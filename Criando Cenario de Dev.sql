CREATE DATABASE DESAFIO_01
GO
USE DESAFIO_01
GO
/****** Object:  Table [dbo].[JORNADA]    Script Date: 27/03/2020 17:16:05 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[JORNADA](
	[ID_JORNADA] [int] IDENTITY(1,1) NOT NULL,
	[ID_RESPONSAVEL] [int] NOT NULL,
	[DH_INICIO_JORNADA] [datetime] NULL,
	[DH_INICIO_INTERVALO] [datetime] NULL,
	[DH_FIM_INTERVALO] [datetime] NULL,
	[DH_FIM_JORNADA] [datetime] NULL,
	[ID_USUARIO] [int] NOT NULL,
	[DH_ALTERACAO] [datetime] NULL,
	[ID_STATUS] [bit] NOT NULL,
	[DH_TIMESTAMP] [datetime] NOT NULL,
 CONSTRAINT [PK__JORNADA__BD0451D57CC5721F] PRIMARY KEY CLUSTERED 
(
	[ID_JORNADA] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[JORNADA_ADICIONAL]    Script Date: 27/03/2020 17:16:06 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[JORNADA_ADICIONAL](
	[ID_JORNADA_ADICIONAL] [int] IDENTITY(1,1) NOT NULL,
	[ID_JORNADA] [int] NOT NULL,
	[DH_INICIO_ADICIONAL] [datetime] NOT NULL,
	[DH_FIM_ADICIONAL] [datetime] NULL,
	[ID_SOLICITANTE] [int] NULL,
	[OBS] [varchar](2000) NULL,
	[ID_USUARIO] [int] NOT NULL,
	[DH_ALTERACAO] [datetime] NULL,
	[ID_STATUS] [bit] NOT NULL,
	[DH_TIMESTAMP] [datetime] NULL,
 CONSTRAINT [PK_JORNADA_ADICIONAL] PRIMARY KEY CLUSTERED 
(
	[ID_JORNADA_ADICIONAL] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
SET IDENTITY_INSERT [dbo].[JORNADA] ON 
GO
INSERT [dbo].[JORNADA] ([ID_JORNADA], [ID_RESPONSAVEL], [DH_INICIO_JORNADA], [DH_INICIO_INTERVALO], [DH_FIM_INTERVALO], [DH_FIM_JORNADA], [ID_USUARIO], [DH_ALTERACAO], [ID_STATUS], [DH_TIMESTAMP]) VALUES (1, 2007, CAST(N'2020-03-27T09:32:11.113' AS DateTime), CAST(N'2020-03-27T12:36:07.203' AS DateTime), CAST(N'2020-03-27T13:28:15.087' AS DateTime), NULL, 2007, NULL, 1, CAST(N'2020-03-27T09:32:11.113' AS DateTime))
GO
INSERT [dbo].[JORNADA] ([ID_JORNADA], [ID_RESPONSAVEL], [DH_INICIO_JORNADA], [DH_INICIO_INTERVALO], [DH_FIM_INTERVALO], [DH_FIM_JORNADA], [ID_USUARIO], [DH_ALTERACAO], [ID_STATUS], [DH_TIMESTAMP]) VALUES (2, 5010, CAST(N'2020-03-27T09:00:00.000' AS DateTime), CAST(N'2020-03-27T13:22:31.467' AS DateTime), CAST(N'2020-03-27T14:21:16.037' AS DateTime), NULL, 5013, CAST(N'2020-03-27T09:52:49.440' AS DateTime), 1, CAST(N'2020-03-27T09:34:59.250' AS DateTime))
GO
INSERT [dbo].[JORNADA] ([ID_JORNADA], [ID_RESPONSAVEL], [DH_INICIO_JORNADA], [DH_INICIO_INTERVALO], [DH_FIM_INTERVALO], [DH_FIM_JORNADA], [ID_USUARIO], [DH_ALTERACAO], [ID_STATUS], [DH_TIMESTAMP]) VALUES (3, 5026, CAST(N'2020-03-27T09:50:50.510' AS DateTime), CAST(N'2020-03-27T12:17:16.627' AS DateTime), CAST(N'2020-03-27T13:17:00.000' AS DateTime), NULL, 5026, CAST(N'2020-03-27T13:18:53.507' AS DateTime), 1, CAST(N'2020-03-27T09:50:51.510' AS DateTime))
GO
INSERT [dbo].[JORNADA] ([ID_JORNADA], [ID_RESPONSAVEL], [DH_INICIO_JORNADA], [DH_INICIO_INTERVALO], [DH_FIM_INTERVALO], [DH_FIM_JORNADA], [ID_USUARIO], [DH_ALTERACAO], [ID_STATUS], [DH_TIMESTAMP]) VALUES (4, 1006, CAST(N'2020-03-27T09:00:00.000' AS DateTime), CAST(N'2020-03-27T15:23:00.187' AS DateTime), NULL, NULL, 5013, CAST(N'2020-03-27T09:52:27.777' AS DateTime), 1, CAST(N'2020-03-27T09:51:15.903' AS DateTime))
GO
INSERT [dbo].[JORNADA] ([ID_JORNADA], [ID_RESPONSAVEL], [DH_INICIO_JORNADA], [DH_INICIO_INTERVALO], [DH_FIM_INTERVALO], [DH_FIM_JORNADA], [ID_USUARIO], [DH_ALTERACAO], [ID_STATUS], [DH_TIMESTAMP]) VALUES (5, 5032, CAST(N'2020-03-27T09:51:17.607' AS DateTime), NULL, NULL, NULL, 5032, NULL, 1, CAST(N'2020-03-27T09:51:17.607' AS DateTime))
GO
INSERT [dbo].[JORNADA] ([ID_JORNADA], [ID_RESPONSAVEL], [DH_INICIO_JORNADA], [DH_INICIO_INTERVALO], [DH_FIM_INTERVALO], [DH_FIM_JORNADA], [ID_USUARIO], [DH_ALTERACAO], [ID_STATUS], [DH_TIMESTAMP]) VALUES (6, 5013, CAST(N'2020-03-27T09:00:00.000' AS DateTime), NULL, NULL, NULL, 5013, CAST(N'2020-03-27T09:54:43.850' AS DateTime), 1, CAST(N'2020-03-27T09:51:56.527' AS DateTime))
GO
INSERT [dbo].[JORNADA] ([ID_JORNADA], [ID_RESPONSAVEL], [DH_INICIO_JORNADA], [DH_INICIO_INTERVALO], [DH_FIM_INTERVALO], [DH_FIM_JORNADA], [ID_USUARIO], [DH_ALTERACAO], [ID_STATUS], [DH_TIMESTAMP]) VALUES (7, 1008, CAST(N'2020-03-27T09:00:00.000' AS DateTime), CAST(N'2020-03-27T16:41:06.073' AS DateTime), CAST(N'2020-03-27T16:41:17.500' AS DateTime), CAST(N'2020-03-27T16:43:28.410' AS DateTime), 1008, CAST(N'2020-03-27T10:22:12.147' AS DateTime), 1, CAST(N'2020-03-27T10:13:37.073' AS DateTime))
GO
INSERT [dbo].[JORNADA] ([ID_JORNADA], [ID_RESPONSAVEL], [DH_INICIO_JORNADA], [DH_INICIO_INTERVALO], [DH_FIM_INTERVALO], [DH_FIM_JORNADA], [ID_USUARIO], [DH_ALTERACAO], [ID_STATUS], [DH_TIMESTAMP]) VALUES (8, 2, CAST(N'2020-03-27T09:00:00.000' AS DateTime), CAST(N'2020-03-27T12:41:25.207' AS DateTime), CAST(N'2020-03-27T13:41:55.680' AS DateTime), NULL, 2, CAST(N'2020-03-27T12:51:38.070' AS DateTime), 1, CAST(N'2020-03-27T10:16:02.793' AS DateTime))
GO
INSERT [dbo].[JORNADA] ([ID_JORNADA], [ID_RESPONSAVEL], [DH_INICIO_JORNADA], [DH_INICIO_INTERVALO], [DH_FIM_INTERVALO], [DH_FIM_JORNADA], [ID_USUARIO], [DH_ALTERACAO], [ID_STATUS], [DH_TIMESTAMP]) VALUES (9, 3010, CAST(N'2020-03-27T10:23:52.470' AS DateTime), CAST(N'2020-03-27T13:22:25.750' AS DateTime), CAST(N'2020-03-27T14:24:55.883' AS DateTime), CAST(N'2020-03-27T14:33:33.097' AS DateTime), 3010, NULL, 1, CAST(N'2020-03-27T10:23:52.470' AS DateTime))
GO
INSERT [dbo].[JORNADA] ([ID_JORNADA], [ID_RESPONSAVEL], [DH_INICIO_JORNADA], [DH_INICIO_INTERVALO], [DH_FIM_INTERVALO], [DH_FIM_JORNADA], [ID_USUARIO], [DH_ALTERACAO], [ID_STATUS], [DH_TIMESTAMP]) VALUES (10, 5011, CAST(N'2020-03-27T10:30:30.560' AS DateTime), CAST(N'2020-03-27T13:22:40.260' AS DateTime), CAST(N'2020-03-27T14:24:46.783' AS DateTime), NULL, 5011, NULL, 1, CAST(N'2020-03-27T10:30:30.560' AS DateTime))
GO
INSERT [dbo].[JORNADA] ([ID_JORNADA], [ID_RESPONSAVEL], [DH_INICIO_JORNADA], [DH_INICIO_INTERVALO], [DH_FIM_INTERVALO], [DH_FIM_JORNADA], [ID_USUARIO], [DH_ALTERACAO], [ID_STATUS], [DH_TIMESTAMP]) VALUES (11, 5021, CAST(N'2020-03-27T10:49:50.820' AS DateTime), CAST(N'2020-03-27T13:11:30.650' AS DateTime), CAST(N'2020-03-27T15:36:26.880' AS DateTime), NULL, 5021, NULL, 1, CAST(N'2020-03-27T10:49:50.820' AS DateTime))
GO
INSERT [dbo].[JORNADA] ([ID_JORNADA], [ID_RESPONSAVEL], [DH_INICIO_JORNADA], [DH_INICIO_INTERVALO], [DH_FIM_INTERVALO], [DH_FIM_JORNADA], [ID_USUARIO], [DH_ALTERACAO], [ID_STATUS], [DH_TIMESTAMP]) VALUES (12, 3009, CAST(N'2020-03-27T13:29:31.750' AS DateTime), CAST(N'2020-03-27T13:29:35.417' AS DateTime), CAST(N'2020-03-27T14:02:29.190' AS DateTime), NULL, 3009, NULL, 1, CAST(N'2020-03-27T13:29:31.750' AS DateTime))
GO
INSERT [dbo].[JORNADA] ([ID_JORNADA], [ID_RESPONSAVEL], [DH_INICIO_JORNADA], [DH_INICIO_INTERVALO], [DH_FIM_INTERVALO], [DH_FIM_JORNADA], [ID_USUARIO], [DH_ALTERACAO], [ID_STATUS], [DH_TIMESTAMP]) VALUES (13, 2005, CAST(N'2020-03-27T15:06:44.763' AS DateTime), NULL, NULL, NULL, 2005, NULL, 1, CAST(N'2020-03-27T15:06:44.763' AS DateTime))
GO
INSERT [dbo].[JORNADA] ([ID_JORNADA], [ID_RESPONSAVEL], [DH_INICIO_JORNADA], [DH_INICIO_INTERVALO], [DH_FIM_INTERVALO], [DH_FIM_JORNADA], [ID_USUARIO], [DH_ALTERACAO], [ID_STATUS], [DH_TIMESTAMP]) VALUES (14, 5018, CAST(N'2020-03-27T16:18:12.633' AS DateTime), NULL, NULL, NULL, 5018, NULL, 1, CAST(N'2020-03-27T16:18:12.633' AS DateTime))
GO
SET IDENTITY_INSERT [dbo].[JORNADA] OFF
GO
SET IDENTITY_INSERT [dbo].[JORNADA_ADICIONAL] ON 
GO
INSERT [dbo].[JORNADA_ADICIONAL] ([ID_JORNADA_ADICIONAL], [ID_JORNADA], [DH_INICIO_ADICIONAL], [DH_FIM_ADICIONAL], [ID_SOLICITANTE], [OBS], [ID_USUARIO], [DH_ALTERACAO], [ID_STATUS], [DH_TIMESTAMP]) VALUES (1, 9, CAST(N'2020-03-27T14:33:40.733' AS DateTime), NULL, NULL, NULL, 3010, NULL, 1, CAST(N'2020-03-27T14:33:40.733' AS DateTime))
GO
INSERT [dbo].[JORNADA_ADICIONAL] ([ID_JORNADA_ADICIONAL], [ID_JORNADA], [DH_INICIO_ADICIONAL], [DH_FIM_ADICIONAL], [ID_SOLICITANTE], [OBS], [ID_USUARIO], [DH_ALTERACAO], [ID_STATUS], [DH_TIMESTAMP]) VALUES (2, 7, CAST(N'2020-03-27T16:43:55.363' AS DateTime), CAST(N'2020-03-27T16:44:04.990' AS DateTime), 6, N'aaaaaa', 1008, NULL, 1, CAST(N'2020-03-27T16:43:55.363' AS DateTime))
GO
INSERT [dbo].[JORNADA_ADICIONAL] ([ID_JORNADA_ADICIONAL], [ID_JORNADA], [DH_INICIO_ADICIONAL], [DH_FIM_ADICIONAL], [ID_SOLICITANTE], [OBS], [ID_USUARIO], [DH_ALTERACAO], [ID_STATUS], [DH_TIMESTAMP]) VALUES (3, 7, CAST(N'2020-03-27T16:44:14.193' AS DateTime), CAST(N'2020-03-27T16:44:19.073' AS DateTime), 6023, N'ujjjjjjjjjjj', 1008, NULL, 1, CAST(N'2020-03-27T16:44:14.193' AS DateTime))
GO
INSERT [dbo].[JORNADA_ADICIONAL] ([ID_JORNADA_ADICIONAL], [ID_JORNADA], [DH_INICIO_ADICIONAL], [DH_FIM_ADICIONAL], [ID_SOLICITANTE], [OBS], [ID_USUARIO], [DH_ALTERACAO], [ID_STATUS], [DH_TIMESTAMP]) VALUES (4, 7, CAST(N'2020-03-27T17:07:20.660' AS DateTime), CAST(N'2020-03-27T17:07:29.510' AS DateTime), 6023, N'khkjh', 1008, NULL, 1, CAST(N'2020-03-27T17:07:20.660' AS DateTime))
GO
SET IDENTITY_INSERT [dbo].[JORNADA_ADICIONAL] OFF
GO
/****** Object:  Index [IX_JORNADA_ADICIONAL_01]    Script Date: 27/03/2020 17:16:07 ******/
CREATE NONCLUSTERED INDEX [IX_JORNADA_ADICIONAL_01] ON [dbo].[JORNADA_ADICIONAL]
(
	[ID_JORNADA] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
GO
ALTER TABLE [dbo].[JORNADA] ADD  CONSTRAINT [DF__JORNADA__ID_STAT__5224328E]  DEFAULT ((1)) FOR [ID_STATUS]
GO
ALTER TABLE [dbo].[JORNADA] ADD  CONSTRAINT [DF__JORNADA__DH_TIME__531856C7]  DEFAULT (getdate()) FOR [DH_TIMESTAMP]
GO
ALTER TABLE [dbo].[JORNADA_ADICIONAL] ADD  CONSTRAINT [DF__JORNADA_A__ID_ST__6442E2C9]  DEFAULT ((1)) FOR [ID_STATUS]
GO
ALTER TABLE [dbo].[JORNADA_ADICIONAL] ADD  CONSTRAINT [DF__JORNADA_A__DH_TI__65370702]  DEFAULT (getdate()) FOR [DH_TIMESTAMP]
GO
